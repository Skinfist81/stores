/*! stores - v1.0.0 - 2021-01-21 */
import{stores}from"./stores/index.js";(()=>{if(storesJsonFile){const e=stores.getStoreFromUrl();stores.get(storesJsonFile).then(async({ciudades:r})=>{const o=r[e.city].tiendas[e.store],t=document.querySelector("#stores"),s=document.querySelector(".contenedor_tienda_detalle"),n=[],i=document.querySelectorAll(".nombre-ciudad");console.log(r[e.city].label),console.log(r[e.store]),t.innerHTML="",i.forEach(o=>o.innerHTML=r[e.city].label),s.insertAdjacentHTML("beforeend",await stores.render.detail({address:o.direccion,howToGet:o.como_llegar,image:o.imagen,link:o.ir,map:o.ver_mapa,name:o.nombre_tienda,schedule:o.horario_apertura,scheduleDetail:o.horarios})),Object.keys(r[e.city].tiendas).length>1?(Object.entries(r[e.city].tiendas).forEach(o=>{const t=o[0],s=o[1];t!=e.store&&n.push(stores.render.store({address:s.direccion,city:r[e.city].label,howToGet:s.como_llegar,label:`todas ${e.city}`,link:s.ir,name:s.nombre_tienda,schedule:s.horario_apertura}))}),Promise.all(n).then(e=>{t.innerHTML="",e.forEach(e=>t.insertAdjacentHTML("beforeend",`${e}`))})):document.querySelector(".tit_otras").remove()})}})();